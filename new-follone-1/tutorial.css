:root{
  /* Phase13: match Options "ゆめかわ×レトロPC" base */
  --bg0:#fbf7f1;
  --bg1:#f4ede3;
  --panel:rgba(255,255,255,0.82);
  --panel2:rgba(255,255,255,0.62);
  --ink:#2a2433;
  --muted:rgba(40,20,60,0.60);
  --line:rgba(40,20,60,0.12);
  --accent: rgba(155,135,255,0.45);
  --shadow: 0 10px 30px rgba(40,20,60,0.10);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Hiragino Sans","Noto Sans JP",sans-serif;
  background:
    radial-gradient(1100px 650px at 20% 10%, rgba(155,135,255,0.16), transparent 60%),
    radial-gradient(900px 560px at 85% 5%, rgba(255,168,215,0.14), transparent 62%),
    linear-gradient(180deg, var(--bg0), #fff 55%, var(--bg0));
  color:var(--ink);
  overflow:hidden;
}

/* Phase14: responsive tutorial (small screens should scroll naturally) */
@media (max-width: 980px){
  body{overflow:auto;}
}

.tWrap{
  height:100%;
  display:flex;
  flex-direction:column;
  padding:16px;
  gap:12px;
  /* keep centered and use the available width (fix: huge empty right space) */
  width:min(1400px, calc(100% - 24px));
  margin:0 auto;
}

.tTop{
  display:flex; align-items:flex-end; justify-content:space-between;
  gap:12px;
}

/* Progress (Chapter) */
.tProg{
  flex:1;
  align-self:stretch;
  max-width:420px;
  min-width:220px;
  border:1px solid var(--line);
  background:var(--panel2);
  border-radius:18px;
  padding:10px 12px;
}
.tProgTop{display:flex; align-items:baseline; justify-content:space-between; gap:10px;}
.tProgLabel{font-weight:900; font-size:12px; color:rgba(40,20,60,0.78); letter-spacing:0.6px;}
.tProgHint{font-size:12px; color:var(--muted);}
.tProgBar{margin-top:8px; height:8px; border-radius:999px; background:rgba(40,20,60,0.10); overflow:hidden;}
.tProgFill{height:100%; width:0%; background:var(--accent); border-radius:999px; transition:width 220ms ease;}
.tBrand{display:flex; flex-direction:column;}
.tKicker{font-weight:900; letter-spacing:0.6px; font-size:14px; color:rgba(40,20,60,0.84)}
.tSub{font-size:12px; color:rgba(40,20,60,0.58); margin-top:2px;}

.tHud{display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end;}
.tChip{
  display:flex; align-items:baseline; gap:8px;
  padding:10px 12px;
  border:1px solid var(--line);
  background:var(--panel2);
  border-radius:14px;
}
.tChip span{font-size:11px; color:rgba(40,20,60,0.60);}
.tChip b{font-size:14px; color:rgba(40,20,60,0.82);}

.tMain{
  flex:1;
  display:grid;
  grid-template-columns: minmax(720px, 1fr) minmax(360px, 420px);
  gap:12px;
  min-height:0;
}

@media (max-width: 980px){
  .tWrap{padding:12px;}
  .tTop{flex-wrap:wrap; align-items:flex-start;}
  .tProg{max-width:none; width:100%;}
  .tMain{grid-template-columns:1fr;}
  .tSide{flex-direction:row; overflow-x:auto; padding-bottom:6px;}
  .tSide::-webkit-scrollbar{height:6px;}
  .tSide::-webkit-scrollbar-thumb{background:rgba(40,20,60,0.18); border-radius:999px;}
  .tNav{min-width:260px;}
  .tCard{min-width:260px;}
}

.tTimeline{
  border:1px solid var(--line);
  background:var(--panel2);
  border-radius:18px;
  overflow:auto;
  padding:0;
  box-shadow:var(--shadow);
}
.tTlHead{
  position:sticky; top:0;
  padding:12px 14px;
  font-weight:900;
  background:linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.35));
  border-bottom:1px solid var(--line);
  backdrop-filter: blur(10px);
}
.tTlHead{display:flex; align-items:baseline; justify-content:space-between; gap:10px;}
.tTlNote{font-weight:700; font-size:11px; opacity:0.65;}

/* Mock overlay demo (Chapter 1) */
.tOverlayDemo{
  margin:12px 14px 0;
  border:1px solid var(--line);
  background:rgba(255,255,255,0.70);
  border-radius:18px;
  padding:12px 12px 10px;
}
.tOHead{display:flex; align-items:baseline; justify-content:space-between; gap:10px;}
.tOLogo{font-weight:900; letter-spacing:0.6px; font-size:12px; color:rgba(40,20,60,0.78);}
.tOState{display:flex; align-items:baseline; gap:8px; font-size:11px; color:rgba(40,20,60,0.60);}
.tOState b{font-size:12px; color:rgba(40,20,60,0.82);}
.tOMeters{display:grid; gap:8px; margin-top:10px;}
.tOMeter{display:grid; grid-template-columns: 92px 1fr; gap:10px; align-items:center;}
.tOMeter span{font-size:11px; color:rgba(40,20,60,0.60); font-weight:700;}
.tBar{height:10px; border-radius:999px; background:rgba(40,20,60,0.08); overflow:hidden; border:1px solid var(--line);}
.tBar i{display:block; height:100%; background:rgba(155,135,255,0.22);}
.tOSay{margin-top:10px; font-size:12px; line-height:1.5; color:var(--muted);}
.tPost{
  padding:12px 14px;
  border-bottom:1px solid var(--line);
  background:rgba(255,255,255,0.55);
}
.tPost:last-child{border-bottom:none}
.tHandle{font-weight:900; font-size:12px; color:rgba(40,20,60,0.82)}
.tBody{font-size:13px; line-height:1.55; color:rgba(40,20,60,0.78); margin-top:4px;}
.tPost.isTarget{outline:2px solid rgba(155,135,255,0.55); outline-offset:-2px;}

.tSide{display:flex; flex-direction:column; gap:12px; min-height:0;}

/* Chapter nav */
.tNav{
  display:grid;
  gap:8px;
  padding:12px 12px;
  border:1px solid var(--line);
  background:var(--panel);
  border-radius:18px;
}
.tNavItem{
  width:100%;
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 10px;
  border-radius:14px;
  border:1px solid var(--line);
  background:rgba(255,255,255,0.55);
  color:var(--ink);
}
.tNavItem b{
  width:22px;
  height:22px;
  border-radius:10px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(155,135,255,0.10);
  border:1px solid rgba(155,135,255,0.22);
  font-size:12px;
}
.tNavItem span{font-size:12px; color:rgba(40,20,60,0.80); font-weight:800; text-align:left;}
.tNavItem.isActive{outline:2px solid rgba(155,135,255,0.55); outline-offset:-2px;}
.tNavItem.isDone{opacity:0.75;}
.tNavItem.isDone b{background:rgba(160,220,255,0.18);}
.tCard{
  border:1px solid var(--line);
  background:var(--panel);
  border-radius:18px;
  padding:14px;
  min-height:0;
}
.tMuted{opacity:0.9}

/* Tutorial-like character guide */
.tGuide{position:relative; min-height:0; display:grid; grid-template-columns: 92px 1fr; gap:10px; align-items:flex-end;}
.tGuidePet{
  width:92px; height:92px;
  border-radius:18px;
  border:1px solid var(--line);
  background:var(--panel2);
  display:none; align-items:center; justify-content:center;
  box-shadow:var(--shadow);
}
#guidePet{width:84px; height:84px; image-rendering:pixelated;}

.tBubble{
  position:relative;
  border-radius:18px;
  padding:14px;
  border:1px solid var(--line);
  background:var(--panel);
  box-shadow:var(--shadow);
  overflow:hidden;
}
.tBubble:before{
  content:"";
  position:absolute;
  left:-8px;
  bottom:18px;
  width:18px;
  height:18px;
  background:var(--panel);
  border-left:1px solid var(--line);
  border-bottom:1px solid var(--line);
  transform: rotate(45deg);
}

.tChar{font-weight:900; letter-spacing:0.2px; margin-bottom:8px;}
.tSay{font-size:13px; line-height:1.6; min-height:88px; color:rgba(40,20,60,0.82);}
.tActions{display:flex; gap:8px; justify-content:flex-end; flex-wrap:wrap; margin-top:10px;}

button{
  cursor:pointer;
  border:none;
  border-radius:14px;
  padding:10px 12px;
  font-weight:800;
  font-size:13px;
  background:linear-gradient(180deg, rgba(155,135,255,0.16), rgba(155,135,255,0.08));
  color:var(--ink);
  transition: transform 120ms ease, box-shadow 120ms ease, opacity 120ms ease;
}
button:hover{box-shadow:0 10px 22px rgba(155,135,255,0.16); transform: translateY(-1px)}
button:active{transform: translateY(1px)}
button[disabled]{opacity:0.45; cursor:not-allowed}

.tTipTitle{font-weight:900; margin-bottom:6px;}
.tTipText{font-size:12px; line-height:1.55; opacity:0.8;}

/* Spotlight */
.tSpotVeil{
  position:fixed; inset:0; z-index:2147483646;
  background:rgba(10,10,12,0.72);
  display:none; align-items:center; justify-content:center;
  padding:16px;
  opacity:1;
  transition: opacity 220ms ease;
}
.tSpotVeil.on{display:flex;}
.tSpotVeil.out{opacity:0;}

/* Finish / Certificate ------------------------------------------------ */
.tFinishVeil{
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  padding: 18px;
  background: rgba(18, 10, 20, .55);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  z-index: 99999;
}
.tFinishVeil.on{display:flex;}

.tFinish{
  width: min(860px, 96vw);
  border-radius: 18px;
  position: relative;
  padding: 18px;
  background: linear-gradient(180deg, rgba(255,255,255,.88), rgba(255,255,255,.82));
  border: 1px solid rgba(255,255,255,.55);
  box-shadow: 0 24px 70px rgba(0,0,0,.35);
  overflow: hidden;
}
.tFinishTop{padding: 8px 10px 14px 10px;}
.tFinishKicker{font-size: 11px; letter-spacing: .18em; opacity: .75;}
.tFinishTitle{font-size: 22px; font-weight: 900; margin-top: 4px;}
.tFinishSub{font-size: 13px; opacity: .85; margin-top: 4px;}

.tFinishGrid{display:grid; grid-template-columns: 250px 1fr; gap: 14px;}
@media (max-width: 720px){
  .tFinishGrid{grid-template-columns: 1fr;}
}

.tFinishLeft{
  border-radius: 14px;
  padding: 12px;
  background: rgba(255,255,255,.55);
  border: 1px solid rgba(255,255,255,.55);
}
.tFinishBadge{
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 8px;
  border-radius: 14px;
  background: radial-gradient(80% 80% at 30% 20%, rgba(253, 107, 152, .22), rgba(122, 86, 255, .08) 55%, rgba(255,255,255,.45) 100%);
  border: 1px solid rgba(255,255,255,.6);
}
#finishBadge{image-rendering: pixelated;}
.tFinishName{margin-top: 10px; font-weight: 900;}
.tFinishMeta{font-size: 12px; opacity: .75; margin-top: 2px;}

.tFinishRight{
  border-radius: 14px;
  padding: 12px;
  background: rgba(255,255,255,.58);
  border: 1px solid rgba(255,255,255,.55);
}

.tFinishStats{display:grid; grid-template-columns: repeat(3, 1fr); gap: 10px;}
@media (max-width: 720px){
  .tFinishStats{grid-template-columns: 1fr;}
}
.tStat{border-radius: 12px; padding: 10px; background: rgba(255,255,255,.6); border: 1px solid rgba(255,255,255,.6);}
.tStat span{font-size: 11px; opacity: .75;}
.tStat b{display:block; font-size: 18px; margin-top: 4px;}

.tFinishNote{margin-top: 12px; font-size: 13px; opacity: .9;}
.tFinishBtns{margin-top: 12px; display:flex; gap: 10px; flex-wrap: wrap;}
.tFinishClose{margin-top: 12px; width: 100%; padding: 10px 12px; border-radius: 12px; border: 1px solid rgba(0,0,0,.08); background: rgba(255,255,255,.65);}

.tConfetti{position:absolute; inset: 0; pointer-events:none;}
.tConfetti i{
  position:absolute;
  width: 10px;
  height: 6px;
  border-radius: 3px;
  background: rgba(253,107,152,.85);
  animation: confetti-fall 1200ms linear forwards;
}
.tConfetti i:nth-child(3n){background: rgba(122,86,255,.85);}
.tConfetti i:nth-child(3n+1){background: rgba(125, 216, 255, .9);}

@keyframes confetti-fall{
  from{transform: translateY(-20px) rotate(0deg); opacity: 0;}
  10%{opacity: 1;}
  to{transform: translateY(520px) rotate(260deg); opacity: 0;}
}
.tSpot{
  width:min(520px, 92vw);
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:18px;
  box-shadow:var(--shadow);
  padding:16px;
  color:var(--ink);
  transform: translateY(14px);
  opacity:0;
  animation: spotIn 320ms cubic-bezier(.2,.8,.2,1) forwards;
}
.tSpotTitle{font-weight:900; margin-bottom:8px;}
.tSpotText{font-size:13px; line-height:1.6; opacity:0.86;}
.tSpotBtns{display:flex; gap:8px; justify-content:flex-end; flex-wrap:wrap; margin-top:14px;}
.tPulse{animation:pulse 1.2s ease-in-out infinite}

@keyframes spotIn{to{transform:translateY(0); opacity:1;}}

@keyframes pulse{
  0%,100%{transform:scale(1); opacity:1}
  50%{transform:scale(1.02); opacity:0.9}
}

@media (max-width: 860px){
  .tMain{grid-template-columns: 1fr;}
  .tSide{order:-1}
}


/* Phase10: AI prepare chip */
.tChip--ai b{min-width:44px; text-align:center;}


/* =========================
   Phase15 Final QA Polish (2026-01-10)
   - Match Options glass+pixel tabs
   - Improve spacing and readability
   ========================= */

body {
  background:
    radial-gradient(900px 380px at 18% 10%, rgba(214,184,255,.22), transparent 55%),
    radial-gradient(780px 360px at 85% 18%, rgba(180,240,255,.18), transparent 58%),
    linear-gradient(180deg, #fffaf7 0%, #fbf7ff 52%, #fffdfb 100%);
}

.tNav button, .tJump button {
  position: relative;
  border-radius: 10px;
  border: 1px solid rgba(190, 170, 225, .75);
  background: linear-gradient(180deg, rgba(255,255,255,.92) 0%, rgba(245,240,255,.92) 100%);
  box-shadow:
    0 6px 14px rgba(40, 26, 72, .10),
    inset 0 1px 0 rgba(255,255,255,.9),
    inset 0 -2px 0 rgba(120, 90, 170, .10);
  font-family: var(--pix, ui-monospace, monospace);
  letter-spacing: .06em;
}
.tNav button::after, .tJump button::after {
  content:"";
  position:absolute;
  inset:3px;
  border-radius:8px;
  border:1px dashed rgba(170,145,215,.40);
  opacity:.65;
  pointer-events:none;
}
.tNav button:hover, .tJump button:hover {
  transform: translateY(-1px);
  border-color: rgba(165,135,220,.95);
}
.tNav button:active, .tJump button:active {
  transform: translateY(0px);
}

.tWrap {
  max-width: 1180px;
  padding-left: 20px;
  padding-right: 20px;
}

.tCard {
  border-color: rgba(228, 215, 240, .95);
  box-shadow:
    0 10px 30px rgba(40, 26, 72, .08),
    inset 0 1px 0 rgba(255,255,255,.85);
}


/* Step transitions */
.tGuide.isFlash{animation:tFlash 420ms ease-out;}
@keyframes tFlash{0%{transform:translateY(0) scale(1);box-shadow:0 16px 32px rgba(90,40,150,0.18);}35%{transform:translateY(-2px) scale(1.01);box-shadow:0 22px 46px rgba(90,40,150,0.22);}100%{transform:translateY(0) scale(1);box-shadow:0 16px 32px rgba(90,40,150,0.18);}}
.tOverlayDemo.isPop{animation:tPop 460ms cubic-bezier(.2,.8,.2,1);} 
@keyframes tPop{0%{transform:translateY(2px) scale(.985);opacity:.92;}55%{transform:translateY(0) scale(1.01);opacity:1;}100%{transform:translateY(0) scale(1);opacity:1;}}

/* Missions */
.tCardTitle{font-weight:800;letter-spacing:.02em;margin-bottom:10px;}
.tMission{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px;}
.tMission li{display:flex;align-items:flex-start;gap:10px;padding:10px 10px;border:1px solid rgba(210,190,235,.85);border-radius:14px;background:linear-gradient(180deg,rgba(255,255,255,.82),rgba(252,250,255,.74));}
.tMission .mIcon{width:20px;height:20px;flex:0 0 20px;border-radius:8px;border:1px solid rgba(170,140,220,.75);background:radial-gradient(circle at 35% 35%,rgba(255,255,255,.9),rgba(235,225,250,.75));box-shadow:inset 0 1px 0 rgba(255,255,255,.8);display:grid;place-items:center;font-size:12px;line-height:1;}
.tMission .mText{flex:1 1 auto;}
.tMission .mTitle{font-weight:750;}
.tMission .mDesc{opacity:.75;margin-top:2px;font-size:12px;line-height:1.45;}
.tMission li.isDone{border-color:rgba(140,210,170,.75);background:linear-gradient(180deg,rgba(255,255,255,.86),rgba(245,255,248,.74));}
.tMission li.isDone .mIcon{border-color:rgba(120,200,150,.9);background:radial-gradient(circle at 35% 35%,rgba(255,255,255,.95),rgba(215,245,225,.78));}
.tMission li.isDone .mIcon::after{content:"✓";font-weight:900;}
.tMissionFoot{margin-top:10px;opacity:.7;font-size:12px;}

/* Small celebrate burst */
.tGuide.isCelebrate{position:relative;}
.tGuide.isCelebrate::after{content:"";position:absolute;inset:-8px;border-radius:24px;pointer-events:none;
  background:radial-gradient(circle at 20% 20%, rgba(255,255,255,.0) 0 40%, rgba(255,255,255,.0) 60%),
             radial-gradient(circle at 30% 10%, rgba(255,220,250,.55), rgba(255,220,250,0) 60%),
             radial-gradient(circle at 70% 30%, rgba(210,240,255,.55), rgba(210,240,255,0) 60%),
             radial-gradient(circle at 60% 80%, rgba(255,245,200,.45), rgba(255,245,200,0) 65%),
             radial-gradient(circle at 20% 80%, rgba(210,255,225,.45), rgba(210,255,225,0) 65%);
  animation:tSparkle 520ms ease-out;
}
@keyframes tSparkle{0%{opacity:0;transform:scale(.98);}35%{opacity:1;transform:scale(1.01);}100%{opacity:0;transform:scale(1.02);}}

/* Demo chip */
.tPost{position:relative;}
.tChipDemo{position:absolute;top:10px;right:10px;display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;font-weight:850;font-size:11px;letter-spacing:.02em;
  color:rgba(50,40,80,.95);border:1px solid rgba(200,180,235,.9);
  background:linear-gradient(180deg,rgba(255,255,255,.92),rgba(252,248,255,.78));
  box-shadow:0 10px 22px rgba(60,30,110,.10), inset 0 1px 0 rgba(255,255,255,.85);
}
.tChipDemo b{font-weight:950;}
.tChipDemo[data-state="queued"]{border-color:rgba(200,180,235,.95);}
.tChipDemo[data-state="processing"]{border-color:rgba(165,210,255,.95);}
.tChipDemo[data-state="done"]{border-color:rgba(150,225,185,.95);}
.tChipDemo[data-state="failed"]{border-color:rgba(255,180,200,.95);}
.tChipDemo.isPop{animation:tPop 360ms cubic-bezier(.2,.8,.2,1);}
